<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>livecam UI</title>

		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">

		<style type="text/css">
			html,body,.feed,.feed img {
				width:100%;
				height:100%;
				overflow:hidden;
			}
		</style>

	</head>

	<body>
		<div class="feed"><img id="video" src="" /></div>

		<script>
			let serverAddress = "192.168.0.17";
			let serverPort = "11000";
			let webcamAddress = "{{webcamAddress}}";
			let webcamPort = "{{webcamPort}}";
			let webcamHost = document.querySelector(".feed img");
			let socket = io.connect(`http://${webcamAddress}:${webcamPort}`);

			socketGamepad = io.connect(`http://${serverAddress}:${serverPort}`);

			socket.on('image', function (data) {
				webcamHost.setAttribute("src", `data:image/jpeg;base64,${data}`);
			});

		</script>
		<script src="./index.js"></script>
	</body>
</html>
